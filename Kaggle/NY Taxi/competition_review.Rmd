---
title: "Review on 'NYC Taxi Trip Duration' Kaggle Competition"
author: "Adilet Absatov"
date: 'June 28, 2018'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Competition description

В этом competition нам предлагается оценить длительность рейсов нью-йоркских такси, судя по таким независимым переменным, как координаты посадки и выхода, время начала пути, количество пассажиров и др. Датасет отличается очень большим количеством данных. В следствие того, что competition уже закрыт, результаты отправленных решений не попадают в официальный рейтинг, однако оценка модели по критерию RMSLE всё также доступна.

## Data engineering

Датасет отличается очень большим количеством данных, поэтому модели строились на выборках из 2500 элементов. При этом переменная id рейса была удалена, а переменная, описывающая поставщика услуг переведена в фактор. В работе с линейной моделью были удалены выбросы.

Отдельной обработке подверглась переменная времени посадки. Изначально, эта переменная была фактором с огромным количеством уровней, что было не лучшим вариантом для работы, поэтому из каждой строки был извлечен только час посадки и весь столбей преобразован в качественную переменную. Таким образом, получился фактор с 24 уровнями.

Также исходя из координат начала и конца пути была добавлена новая переменная - расстояние маршрута.

## Process

### Linear model

Тривиальная реализация дала неплохой результат RMSLE = 0.61624

![](lm_position.jpg)

### RandomForest

В реализации с RandomForest тоже ничего особенного, параметры определены подбором.

![](code_rf.jpg)

Результат - RMSLE = 0.53198

![](rf_position.jpg)

### xgboost

![](code_xgb.jpg)

Результат был хуже, чем с RandomForest - ошибка 0.59857

![](xgb_position.jpg)

## Summary

С этим датасетом работать было нелсожно, но очень долго ввиду большого объема информации. Это и с другой стороны было препятствием для получения более точного результата.